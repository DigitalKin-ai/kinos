{% extends "base.html" %}

{% block title %}Parallagon Web{% endblock %}

{% block content %}
<div id="app">
    <header class="parallagon-header">
        <h1 class="parallagon-title">⚫ Parallagon</h1>
        <div class="parallagon-controls">
            <button @click="startAgents" class="btn btn-start">Start</button>
            <button @click="stopAgents" class="btn btn-stop">Stop</button>
            <span :class="running ? 'status-running' : 'status-stopped'">
                ● {{running ? 'Running' : 'Stopped'}}
            </span>
        </div>
    </header>

    <div class="grid grid-cols-2 gap-4">
        <!-- Panneau Demande -->
        <div class="panel demande-panel">
            <h2 class="panel-title">Demande</h2>
            <textarea v-model="content.demande" class="content-area h-64"></textarea>
        </div>

        <!-- Panneaux Agents -->
        <div v-for="panel in ['specifications', 'management', 'production', 'evaluation']" 
             :key="panel"
             class="panel">
            <h2 class="panel-title">{{panel}}</h2>
            <div class="panel-content">
                <pre class="whitespace-pre-wrap">{{content[panel]}}</pre>
            </div>
        </div>
    </div>

    <!-- Logs Panel -->
    <div class="panel logs-panel">
        <h2 class="panel-title">Logs</h2>
        <div class="panel-content logs-content">
            <pre v-for="log in logs" :key="log" class="log-entry">{{log}}</pre>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='app.js') }}"></script>
{% endblock %}
